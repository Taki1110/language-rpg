<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>語源の旅人 - Etymology Traveler</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animations.css">
</head>
<body>
    <div id="game-container">
        <!-- タイトル画面 -->
        <div id="title-screen" class="screen active">
            <div class="title-content">
                <h1 class="game-title">
                    <span class="title-main">語源の旅人</span>
                    <span class="title-sub">Etymology Traveler</span>
                </h1>
                <p class="title-tagline">言葉の力が魔法となる世界で、あなたの冒険が始まる</p>
                <div class="title-buttons">
                    <button id="btn-new-game" class="btn-primary">新規ゲーム</button>
                    <button id="btn-continue" class="btn-secondary" disabled>続きから</button>
                    <button id="btn-settings" class="btn-secondary">設定</button>
                    <button id="btn-credits" class="btn-secondary">クレジット</button>
                </div>
            </div>
            <div class="title-bg-animation"></div>
        </div>

        <!-- クラス選択画面 -->
        <div id="class-select-screen" class="screen">
            <h2>クラス選択</h2>
            <p class="class-desc">あなたの語学の道を選んでください</p>
            <div class="class-options">
                <div class="class-card" data-class="warrior">
                    <div class="class-icon">⚔️</div>
                    <h3>語学戦士</h3>
                    <p>英語に特化した攻撃型クラス</p>
                    <ul>
                        <li>英語スキル威力 +20%</li>
                        <li>HP +15%</li>
                        <li>中国語スキル -10%</li>
                    </ul>
                </div>
                <div class="class-card" data-class="mage">
                    <div class="class-icon">🔮</div>
                    <h3>文字術師</h3>
                    <p>中国語に特化した魔法型クラス</p>
                    <ul>
                        <li>中国語スキル威力 +20%</li>
                        <li>MP +20%</li>
                        <li>英語スキル -10%</li>
                    </ul>
                </div>
                <div class="class-card" data-class="bard">
                    <div class="class-icon">🎵</div>
                    <h3>語り部</h3>
                    <p>バランス型の支援クラス</p>
                    <ul>
                        <li>両言語スキル +10%</li>
                        <li>アイテム効果 +15%</li>
                        <li>獲得経験値 +10%</li>
                    </ul>
                </div>
                <div class="class-card" data-class="scholar">
                    <div class="class-icon">📚</div>
                    <h3>言語学者</h3>
                    <p>防御重視の知識型クラス</p>
                    <ul>
                        <li>防御力 +25%</li>
                        <li>単語学習ボーナス +20%</li>
                        <li>スキル消費MP -15%</li>
                    </ul>
                </div>
            </div>
            <div class="class-buttons">
                <button id="btn-confirm-class" class="btn-primary" disabled>決定</button>
                <button id="btn-back-class" class="btn-secondary">戻る</button>
            </div>
        </div>

        <!-- メインゲーム画面 -->
        <div id="game-screen" class="screen">
            <!-- ヘッダー情報 -->
            <header id="game-header">
                <div class="player-info">
                    <span class="player-name" id="player-name">旅人</span>
                    <span class="player-class" id="player-class">語学戦士</span>
                    <span class="player-level">Lv.<span id="player-level">1</span></span>
                </div>
                <div class="player-stats">
                    <div class="stat-bar hp-bar">
                        <span class="stat-label">HP</span>
                        <div class="bar-container">
                            <div class="bar-fill" id="hp-fill"></div>
                        </div>
                        <span class="stat-value"><span id="hp-current">100</span>/<span id="hp-max">100</span></span>
                    </div>
                    <div class="stat-bar mp-bar">
                        <span class="stat-label">MP</span>
                        <div class="bar-container">
                            <div class="bar-fill" id="mp-fill"></div>
                        </div>
                        <span class="stat-value"><span id="mp-current">50</span>/<span id="mp-max">50</span></span>
                    </div>
                    <div class="stat-bar exp-bar">
                        <span class="stat-label">EXP</span>
                        <div class="bar-container">
                            <div class="bar-fill" id="exp-fill"></div>
                        </div>
                        <span class="stat-value"><span id="exp-current">0</span>/<span id="exp-max">100</span></span>
                    </div>
                </div>
                <div class="header-actions">
                    <button id="btn-menu" class="icon-btn">☰</button>
                    <button id="btn-save" class="icon-btn">💾</button>
                </div>
            </header>

            <!-- メインコンテンツエリア -->
            <main id="game-main">
                <!-- エクスプロレーション画面 -->
                <div id="exploration-view" class="view active">
                    <div class="area-display">
                        <h2 id="area-name">始まりの森</h2>
                        <p id="area-desc">言葉の力が宿る神秘の森</p>
                        <div class="area-visual" id="area-visual"></div>
                    </div>
                    <div class="exploration-actions">
                        <button id="btn-explore" class="btn-action">探索する</button>
                        <button id="btn-battle" class="btn-action">戦闘を始める</button>
                        <button id="btn-talk" class="btn-action">話す</button>
                    </div>
                    <div class="navigation">
                        <button id="btn-move-north" class="nav-btn">▲ 北</button>
                        <div class="nav-row">
                            <button id="btn-move-west" class="nav-btn">◀ 西</button>
                            <div class="current-location">現在地</div>
                            <button id="btn-move-east" class="nav-btn">東 ▶</button>
                        </div>
                        <button id="btn-move-south" class="nav-btn">▼ 南</button>
                    </div>
                </div>

                <!-- バトル画面 -->
                <div id="battle-view" class="view">
                    <div class="battle-scene">
                        <div class="enemy-area">
                            <div class="enemy-sprite" id="enemy-sprite"></div>
                            <div class="enemy-info">
                                <h3 id="enemy-name">スライム</h3>
                                <div class="enemy-hp-bar">
                                    <div class="bar-container">
                                        <div class="bar-fill" id="enemy-hp-fill"></div>
                                    </div>
                                </div>
                                <p id="enemy-desc">言葉の力を失った存在</p>
                            </div>
                        </div>
                        <div class="battle-effects" id="battle-effects"></div>
                    </div>
                    <div class="battle-ui">
                        <div class="battle-log" id="battle-log">
                            <p>戦闘が始まった！</p>
                        </div>
                        <div class="battle-actions">
                            <button id="btn-attack-en" class="btn-battle">英語攻撃</button>
                            <button id="btn-attack-cn" class="btn-battle">中国語攻撃</button>
                            <button id="btn-skill" class="btn-battle">スキル</button>
                            <button id="btn-item" class="btn-battle">アイテム</button>
                            <button id="btn-defend" class="btn-battle">防御</button>
                            <button id="btn-escape" class="btn-battle">逃げる</button>
                        </div>
                    </div>
                </div>

                <!-- 単語クイズ画面 -->
                <div id="quiz-view" class="view">
                    <div class="quiz-container">
                        <div class="quiz-header">
                            <span class="quiz-type" id="quiz-type">英語→日本語</span>
                            <span class="quiz-difficulty" id="quiz-difficulty">初級</span>
                        </div>
                        <div class="quiz-question">
                            <h3 id="quiz-word">Hello</h3>
                            <p class="quiz-hint" id="quiz-hint">ヒント: 挨拶の言葉</p>
                        </div>
                        <div class="quiz-options" id="quiz-options">
                            <!-- 選択肢が動的に生成される -->
                        </div>
                        <div class="quiz-timer">
                            <div class="timer-bar" id="timer-bar"></div>
                        </div>
                    </div>
                </div>

                <!-- 会話画面 -->
                <div id="dialogue-view" class="view">
                    <div class="dialogue-container">
                        <div class="npc-sprite" id="npc-sprite"></div>
                        <div class="dialogue-box">
                            <h4 id="npc-name">村人</h4>
                            <p id="dialogue-text">こんにちは、旅人さん。</p>
                        </div>
                        <div class="dialogue-options" id="dialogue-options">
                            <!-- 選択肢が動的に生成される -->
                        </div>
                    </div>
                </div>

                <!-- スキルツリー画面 -->
                <div id="skill-tree-view" class="view">
                    <h2>スキルツリー</h2>
                    <div class="skill-tabs">
                        <button class="skill-tab active" data-tree="english">英語スキル</button>
                        <button class="skill-tab" data-tree="chinese">中国語スキル</button>
                        <button class="skill-tab" data-tree="common">共通スキル</button>
                    </div>
                    <div class="skill-tree-container" id="skill-tree-container">
                        <!-- スキルツリーが動的に生成される -->
                    </div>
                    <div class="skill-points">
                        <span>残りスキルポイント: <span id="skill-points">0</span></span>
                    </div>
                </div>

                <!-- インベントリ画面 -->
                <div id="inventory-view" class="view">
                    <h2>インベントリ</h2>
                    <div class="inventory-tabs">
                        <button class="inv-tab active" data-filter="all">すべて</button>
                        <button class="inv-tab" data-filter="weapon">武器</button>
                        <button class="inv-tab" data-filter="armor">防具</button>
                        <button class="inv-tab" data-filter="consumable">消費</button>
                        <button class="inv-tab" data-filter="material">素材</button>
                    </div>
                    <div class="inventory-grid" id="inventory-grid">
                        <!-- アイテムが動的に生成される -->
                    </div>
                    <div class="item-detail" id="item-detail">
                        <p>アイテムを選択してください</p>
                    </div>
                </div>

                <!-- 装備画面 -->
                <div id="equipment-view" class="view">
                    <h2>装備</h2>
                    <div class="equipment-slots">
                        <div class="equip-slot" data-slot="weapon">
                            <span class="slot-label">武器</span>
                            <div class="slot-content" id="equip-weapon">未装備</div>
                        </div>
                        <div class="equip-slot" data-slot="armor">
                            <span class="slot-label">防具</span>
                            <div class="slot-content" id="equip-armor">未装備</div>
                        </div>
                        <div class="equip-slot" data-slot="accessory">
                            <span class="slot-label">アクセサリ</span>
                            <div class="slot-content" id="equip-accessory">未装備</div>
                        </div>
                    </div>
                    <div class="equipment-stats">
                        <h3>ステータス変化</h3>
                        <div class="stat-comparison" id="stat-comparison">
                            <!-- ステータス比較が動的に生成される -->
                        </div>
                    </div>
                </div>

                <!-- クラフト画面 -->
                <div id="craft-view" class="view">
                    <h2>クラフト</h2>
                    <div class="craft-container">
                        <div class="recipe-list" id="recipe-list">
                            <!-- レシピが動的に生成される -->
                        </div>
                        <div class="craft-detail" id="craft-detail">
                            <p>レシピを選択してください</p>
                        </div>
                    </div>
                </div>

                <!-- クエスト画面 -->
                <div id="quest-view" class="view">
                    <h2>クエスト</h2>
                    <div class="quest-tabs">
                        <button class="quest-tab active" data-filter="active">進行中</button>
                        <button class="quest-tab" data-filter="completed">完了</button>
                    </div>
                    <div class="quest-list" id="quest-list">
                        <!-- クエストが動的に生成される -->
                    </div>
                </div>

                <!-- マップ画面 -->
                <div id="map-view" class="view">
                    <h2>世界マップ</h2>
                    <div class="world-map" id="world-map">
                        <!-- マップが動的に生成される -->
                    </div>
                </div>
            </main>

            <!-- フッターナビゲーション -->
            <footer id="game-footer">
                <button class="footer-btn" data-view="exploration">🗺️ 探索</button>
                <button class="footer-btn" data-view="skill-tree">🌳 スキル</button>
                <button class="footer-btn" data-view="inventory">🎒 持ち物</button>
                <button class="footer-btn" data-view="equipment">⚔️ 装備</button>
                <button class="footer-btn" data-view="craft">🔨 クラフト</button>
                <button class="footer-btn" data-view="quest">📜 クエスト</button>
                <button class="footer-btn" data-view="map">🌍 マップ</button>
            </footer>
        </div>

        <!-- メニューモーダル -->
        <div id="menu-modal" class="modal">
            <div class="modal-content">
                <h2>メニュー</h2>
                <div class="menu-options">
                    <button id="menu-status">ステータス</button>
                    <button id="menu-settings">設定</button>
                    <button id="menu-help">ヘルプ</button>
                    <button id="menu-title">タイトルに戻る</button>
                </div>
                <button id="menu-close" class="btn-secondary">閉じる</button>
            </div>
        </div>

        <!-- スキル選択モーダル -->
        <div id="skill-modal" class="modal">
            <div class="modal-content">
                <h2>スキルを選択</h2>
                <div class="skill-list" id="skill-list">
                    <!-- スキルが動的に生成される -->
                </div>
                <button id="skill-close" class="btn-secondary">キャンセル</button>
            </div>
        </div>

        <!-- アイテム選択モーダル -->
        <div id="item-modal" class="modal">
            <div class="modal-content">
                <h2>アイテムを使用</h2>
                <div class="item-list" id="item-list">
                    <!-- アイテムが動的に生成される -->
                </div>
                <button id="item-close" class="btn-secondary">キャンセル</button>
            </div>
        </div>

        <!-- セーブ/ロード画面 -->
        <div id="save-screen" class="screen">
            <h2>セーブ / ロード</h2>
            <div class="save-slots" id="save-slots">
                <!-- セーブスロットが動的に生成される -->
            </div>
            <div class="save-actions">
                <button id="btn-save-game" class="btn-primary">セーブ</button>
                <button id="btn-load-game" class="btn-primary">ロード</button>
                <button id="btn-delete-save" class="btn-danger">削除</button>
                <button id="btn-back-save" class="btn-secondary">戻る</button>
            </div>
        </div>

        <!-- 設定画面 -->
        <div id="settings-screen" class="screen">
            <h2>設定</h2>
            <div class="settings-container">
                <div class="setting-item">
                    <label>BGM音量</label>
                    <input type="range" id="bgm-volume" min="0" max="100" value="50">
                </div>
                <div class="setting-item">
                    <label>SE音量</label>
                    <input type="range" id="se-volume" min="0" max="100" value="70">
                </div>
                <div class="setting-item">
                    <label>テキスト速度</label>
                    <select id="text-speed">
                        <option value="fast">速い</option>
                        <option value="normal" selected>普通</option>
                        <option value="slow">遅い</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label>アニメーション</label>
                    <select id="animation-setting">
                        <option value="on" selected>オン</option>
                        <option value="off">オフ</option>
                    </select>
                </div>
            </div>
            <button id="btn-back-settings" class="btn-secondary">戻る</button>
        </div>

        <!-- クレジット画面 -->
        <div id="credits-screen" class="screen">
            <div class="credits-content">
                <h2>クレジット</h2>
                <div class="credits-text">
                    <p><strong>語源の旅人</strong></p>
                    <p>Etymology Traveler</p>
                    <br>
                    <p>制作: Language RPG Team</p>
                    <p>© 2024 All Rights Reserved</p>
                    <br>
                    <p>Special Thanks</p>
                    <p>すべての言語学習者へ</p>
                </div>
            </div>
            <button id="btn-back-credits" class="btn-secondary">戻る</button>
        </div>

        <!-- チュートリアルオーバーレイ -->
        <div id="tutorial-overlay" class="overlay hidden">
            <div class="tutorial-box">
                <h3 id="tutorial-title">ようこそ！</h3>
                <p id="tutorial-text">語源の旅人へようこそ。この世界では言葉の力が魔法となります。</p>
                <button id="tutorial-next" class="btn-primary">次へ</button>
                <button id="tutorial-skip" class="btn-secondary">スキップ</button>
            </div>
        </div>

        <!-- 通知エリア -->
        <div id="notification-area"></div>
    </div>

    <!-- スクリプト読み込み -->
    <script src="js/data.js"></script>
    <script src="js/story.js"></script>
    <script src="js/battle.js"></script>
    <script src="js/game.js"></script>
</body>
</html>